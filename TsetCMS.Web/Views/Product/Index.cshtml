@model TestCMS.Entity.VM.IndexVM;
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">


<div class="banner">
    <h2>尋找最佳方案</h2>
    <span class="dash"></span>
    <h4>因應不同產業，提供最適應的解決方案</h4>
</div>
<div class="main">
    <div class="row gx-0">
        <div class="col-md-2 sidebar sidebar-margin">

            @foreach (var item in Model.Categories)
            {
                <a class="btn btn-lg sidebar-btn" id=@item.Id>@item.Name</a>
            }

        </div>
        <div class="wrap col">
            <div class="func-line col-12">
                <a asp-action="CategoryAdd" class="btn btn-lg func-btn ">新增類別</a>
                <a asp-action="ProductAdd" class="btn btn-lg func-btn ">+新增產品</a>
            </div>

            <div class="p-body">
                <div class="row">
                    @foreach (var item in Model.Products)
                    {
                        <div class="col-xl-3 col-lg-6">
                            <div class="c-card">
                                <div class="img-container">
                                    <img src=@item.ImagePath alt="">
                                </div>
                                <div class="mt-3 vstack gap-2">
                                    <div>
                                        <span class="c-badge">@item.Category</span>
                                    </div>

                                    <div class="sub-title">
                                        <a asp-controller="Product" asp-action="ProductEdit" asp-route-id="@item.Id">@item.Name</a>
                                    </div>

                                    <div class="c-text">
                                        @item.Intro
                                    </div>
                                </div>

                                <a href="#" class="plus-btn">
                                    <i class="bi bi-plus-circle-fill"></i>
                                </a>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script>
        $(function () {
            $(".sidebar-btn").click(function (ev) {
                ev.preventDefault();
                let a = ev.target;
                location.href = "/Product/Index?searchStr=" + a.textContent;
            })
        });
    </script>
}
